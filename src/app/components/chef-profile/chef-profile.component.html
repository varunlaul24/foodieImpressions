<img
  class="w-full"
  src="https://minio-01.taazaa.cloud/cookingenie-prod-pub//GenieCoverImage/defaultImage.png"
  alt="Background Image"
/>
<div class="relative -m-32">
  <img
    class="w-64 h-64 rounded-full mx-auto border-4 shadow-lg hover:scale-110 border-red-100 hover:border-red-100"
    [src]="chef?.avatar"
    alt="Chef's photo"
  />
</div>

<div *ngIf="chef" class="mt-32 p-4">
  <h2 class="text-2xl font-bold text-center pb-10">{{ chef.name }}</h2>
  <div class="relative p-3">
    <div class="flex justify-between">
      <p class="text-xl font-semibold">Foodie Impressions</p>
      <small>Powered by Generative AI using recent customer reviews</small>
    </div>
    <p *ngIf="summary" class="pt-2">{{ summary }}</p>
    <p *ngIf="!summary" class="pt-2">No summary available.</p>
    <div
      class="absolute inset-0 border rounded-xl border-transparent animate-border-anim"
    ></div>
  </div>

  <h3 class="text-xl font-semibold pt-10">Customer Reviews</h3>
  <div *ngIf="chef.reviews?.length">
    <div
      *ngFor="let review of chef.reviews"
      class="review p-3 rounded-lg my-2 shadow border border-zinc-50"
    >
      <div class="font-semibold flex justify-between">
        <div>
          {{ review.author }}
        </div>
        <div>({{ review.date | date : "medium" }})</div>
      </div>
      <p>{{ review.content }}</p>
    </div>
  </div>
  <div *ngIf="!chef.reviews?.length">
    <p>No reviews yet.</p>
  </div>

  <h4 class="text-xl font-semibold pt-10">Add a Review</h4>
  <div class="pt-3">
    <input
      type="text"
      [(ngModel)]="newReview.author"
      placeholder="Your name"
      class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-red-200"
    />
    <textarea
      [(ngModel)]="newReview.content"
      placeholder="Your review"
      class="w-full p-2 mt-2 border rounded focus:outline-none focus:ring-2 focus:ring-red-200"
    ></textarea>
    <button
      (click)="addReview()"
      class="bg-red-200 text-white font-semibold px-4 py-2 rounded-md mt-2 hover:bg-red-100"
    >
      Submit
    </button>
  </div>
</div>
